"use strict";(self["webpackChunkvue_ui_teplate_gallery"]=self["webpackChunkvue_ui_teplate_gallery"]||[]).push([[9569],{85966:function(e,a,s){s.r(a),s.d(a,{default:function(){return g}});var t=s(73396),o=s(49242),d=s(44870),i=s(94969),r=s.n(i),l=s(15255),u=s.n(l),n=s(53898),m=s(22483),p=s(16914);const w=["onSubmit"],c={class:"dx-button-text"},f={key:1};var v=(0,t.aZ)({__name:"change-password-form",setup(e){const a=(0,m.tv)(),s=(0,m.yj)(),l=(0,d.iH)(""),v=(0,d.iH)(!1),x=(0,d.qj)({password:""});async function g(){const{password:e}=x;v.value=!0;const s=await p.Y.changePassword(e,l.value);v.value=!1,s.isOk?a.push("/login"):(0,n.Z)(s.message,"error",2e3)}function h(e){return e.value===x.password}return l.value=s.params.recoveryCode,(e,a)=>((0,t.wg)(),(0,t.iD)("form",{onSubmit:(0,o.iM)(g,["prevent"])},[(0,t.Wm)((0,d.SU)(r()),{"form-data":x,disabled:v.value},{changePassword:(0,t.w5)((()=>[(0,t._)("div",null,[(0,t._)("span",c,[v.value?((0,t.wg)(),(0,t.j4)((0,d.SU)(u()),{key:0,width:"24px",height:"24px",visible:!0})):(0,t.kq)("",!0),v.value?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("span",f,"Continue"))])])])),default:(0,t.w5)((()=>[(0,t.Wm)((0,d.SU)(i.DxItem),{"data-field":"password","editor-type":"dxTextBox","editor-options":{stylingMode:"filled",placeholder:"Password",mode:"password"}},{default:(0,t.w5)((()=>[(0,t.Wm)((0,d.SU)(i.DxRequiredRule),{message:"Password is required"}),(0,t.Wm)((0,d.SU)(i.DxLabel),{visible:!1})])),_:1}),(0,t.Wm)((0,d.SU)(i.DxItem),{"data-field":"confirmedPassword","editor-type":"dxTextBox","editor-options":{stylingMode:"filled",placeholder:"Confirm Password",mode:"password"}},{default:(0,t.w5)((()=>[(0,t.Wm)((0,d.SU)(i.DxRequiredRule),{message:"Password is required"}),(0,t.Wm)((0,d.SU)(i.DxCustomRule),{message:"Passwords do not match","validation-callback":h}),(0,t.Wm)((0,d.SU)(i.DxLabel),{visible:!1})])),_:1}),(0,t.Wm)((0,d.SU)(i.DxButtonItem),null,{default:(0,t.w5)((()=>[(0,t.Wm)((0,d.SU)(i.DxButtonOptions),{width:"100%",type:"default",template:"changePassword","use-submit-behavior":!0})])),_:1})])),_:1},8,["form-data","disabled"])],40,w))}});const x=v;var g=x}}]);